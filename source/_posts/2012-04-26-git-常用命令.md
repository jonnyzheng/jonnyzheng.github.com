--- 
categories: []
comments: true
layout: post
published: false
status: draft
tags: []
title: "git 常用命令"
type: post
---


我们在使用git给我们带来的方便的同时也承担了它的复杂性给团队开发带来的一些额外的工作,团队成员的培训，分支管理的在开发中的实践和摸索，所以这里希望通过本文进行一次实际开发中对git使用的讨论

<li>删除git上的文件并且保留本地文件 git rm --cached <file></li>
	<li>添加tags到远程库 git push origin --tags</li>
	<li>获取远程分支 git fetch</li>
</ul>


<strong>git stash命令</strong>

当写代码的时候需要切换到别的分支又不想commit还没有完成的代码的时候我们可以用git stash命令，stash命令相当于一个暂存区域，我们可以把当前的改动通通放到这个区域里面去。

{% codeblock %}

$ git stash save 
Saved "WIP on master: e71813e..."

{% endcodeblock %}



stash区域可以存入1个以上的工作状态，用git stash list命令就能看到所有在stash区域里的工作状态

{% codeblock %}

$ git stash save 
Saved "WIP on master: e71813e..."

{% endcodeblock %}


从上面的list里面我们可以看到一共有两个item, stash@{0}和stash@{1},数字用来标记当前的位置，stash使用的是栈模式，先进后出，所以当你已经完成了当前工作，想把之前存入的改动找回来的时候可以用我们可以用pop弹出一个item或者用apply 接受一个改动。需要注意的是git stash pop 永远弹出的是stash@{0}, 而apply可以使用任何项，还有就是pop弹出的项不再出现在list里面， 具体用法如下:


{% codeblock %}

$ git stash save 
Saved "WIP on master: e71813e..."

{% endcodeblock %}

从上面的命令可以看出pop之后stash里的item数量从2个变成了1个。

当stash里的数据不再需要的时候我们用git stash clear命令清空整个空间。
<br><br><strong>用pull好还是用rebase好</strong>

在远程分支已经有他人提交了最新的分支时我们往往需要pull得到最新的代码, git pull = git fetch + git merge。一方面合并会产生除了合并双方（或多方）所有提交外的一个新提交，增加了代码审核的负担，另一方面本地多个提交混杂一起与远程分支合并会更困难

http://www.worldhello.net/gotgithub/04-work-with-others/020-shared-repo.html
http://www.cnblogs.com/iammatthew/archive/2011/12/06/2277383.html



{% codeblock %}
$ git pull --rebase origin jol3.5

Failed to merge in the changes.
Patch failed at 0001 add confing backupfile

When you have resolved this problem run "git rebase --continue".
If you would prefer to skip this patch, instead run "git rebase --skip".
To check out the original branch and stop rebasing run "git rebase --abort".
{% endcodeblock %}

* --continue 解决本地冲突后继续rebase, 
